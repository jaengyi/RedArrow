단기투자(단타 및 스캘핑) 종목 선정을 위한 프로그램을 작성할 때, **시장의 수급과 변동성**을 실시간으로 포착하는 것이 핵심입니다. 출처를 바탕으로 프로그램에 입력해야 할 데이터(Input)와 감지해야 할 지표 및 변화를 정리해 드립니다.

### 1. 프로그램 주요 입력 정보 (Input Data)

프로그램이 실시간으로 수집하고 분석해야 할 기초 데이터는 다음과 같습니다.

*   **실시간 거래대금 상위 리스트**: 단기 매매에서 거래량보다 중요한 것은 **거래대금**이며, 당일 시장의 관심을 받는 상위 20~30위권 종목 정보를 입력값으로 삼아야 합니다.
*   **실시간 주가 등락률**: 전일 대비 등락률이 높은 종목들을 모니터링하여 강한 탄력을 보이는 종목을 선별합니다.
*   **분봉 데이터 (1분, 3분, 5분)**: 단기 추세를 분석하기 위해 초 단위 혹은 분 단위의 시가, 고가, 저가, 종가(OHLC) 데이터가 필요합니다.
*   **호가창 데이터(잔량 및 체결 속도)**: 매도/매수 호가 잔량과 실시간 체결 강도, 대량 체결 물량 정보를 입력하여 수급의 변화를 읽어야 합니다.
*   **테마 및 섹터 그룹 정보**: 개별 종목뿐 아니라 동일 테마 내 종목들이 함께 움직이는지 파악하기 위해 업종별 지수 및 테마군 리스트를 연동합니다.
*   **뉴스 및 공시 키워드**: HTS/MTS 시황창에 뜨는 '특징주', '세계 최초', '독점' 등의 키워드를 실시간으로 감지하여 재료의 발생을 포착합니다.

### 2. 설정해야 할 핵심 기술적 지표

프로그램 로직에 포함할 주요 지표와 설정값은 다음과 같습니다.

*   **이동평균선 (MA)**: 
    *   **단기 생명선**: 5일 및 20일 이동평균선을 기준으로 주가가 그 위에 있는지 확인합니다. 
    *   **분봉 이평선**: 1분봉 차트에서 20분 또는 60분 이평선을 돌파하는 **골든크로스**를 매수 신호로 활용합니다.
*   **변동성 돌파 지표 (K-값)**: 당일 시가에 '전일 변동폭(고가-저가) × K(보통 0.5)'를 더한 가격을 돌파할 때 매수 신호를 발생시키는 로직을 설계합니다.
*   **보조지표 (오실레이터)**:
    *   **MACD**: 시그널선 교차를 통해 추세 전환점을 포착합니다.
    *   **스토캐스틱(Stochastic)**: %K선이 %D선을 상향 돌파하거나 과매도 구간(20 이하)에서 탈출하는 지점을 감지합니다.
*   **거래량 지표 (OBV)**: 거래량이 주가에 선행한다는 원리에 따라 OBV 지표가 상승하는지 확인하여 매수세의 유입을 판단합니다.

### 3. 감지해야 할 주요 변화와 신호

프로그램이 특정 조건에서 알람을 울리거나 자동 매수를 실행하기 위해 감지해야 할 변화입니다.

*   **거래량 폭증**: 평소 거래량의 **2~5배 이상**이 일시적으로 터지며 전고점을 돌파하는 순간을 포착해야 합니다.
*   **호가창의 불균형**: 매수 잔량보다 **매도 잔량이 더 많을 때** 오히려 주가가 상승할 확률이 높으므로, 이 불균형 상태에서 가격이 상승하는 변화를 감지합니다.
*   **정적/동적 VI 발동**: 주가가 급변하여 변동성 완화장치(VI)가 발동되는 종목은 당일 변동성이 가장 큰 종목이므로 즉각적인 분석 대상으로 삼습니다.
*   **섹터 동조화 현상**: 특정 테마 내 대장주가 먼저 치고 나갈 때, 같은 섹터의 2등주가 따라 올라가는 변화를 감지하여 '짝짓기 매매' 기회를 찾습니다.
*   **눌림목 형성**: 주가가 급등한 후 거래량이 줄어들며 특정 이동평균선(예: 20분선) 부근에서 지지받는 변화를 감지합니다.

### 4. 리스크 관리 로직 (필수 포함)

단기투자 프로그램에는 반드시 **손절매(Stop-loss)** 기능이 포함되어야 합니다.

*   **자동 손절 설정**: 매수가 대비 **-2~3%** 또는 **이동평균선 이탈 시** 즉시 시장가 매도 주문이 나가도록 설정하여 손실을 제한합니다.
*   **오버나이트 여부 결정**: 장 마감 시점에 수익권이 아니거나 시장 상황이 불안정할 경우 전액 현금화하는 로직을 기본으로 합니다.

주식 단기투자는 마치 **'파도가 가장 세게 치는 곳에서 서핑을 하는 것'**과 같습니다. 프로그램은 단순히 파도의 높이(주가)만 보는 것이 아니라, 파도가 일어나는 바람의 방향(테마), 물살의 세기(거래대금), 그리고 다른 서퍼들의 움직임(수급)을 종합적으로 읽어내어 가장 안전하면서도 강력한 파도에 올라타야 합니다.