# RedArrow ì†ŒìŠ¤ ì½”ë“œ í•™ìŠµ ë¡œë“œë§µ

## ê°œìš”

ì´ ë¬¸ì„œëŠ” Pythonê³¼ ì£¼ì‹ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œì„ ì²˜ìŒ ë°°ìš°ëŠ” ë¶„ë“¤ì„ ìœ„í•œ ì†ŒìŠ¤ ì½”ë“œ í•™ìŠµ ê°€ì´ë“œì…ë‹ˆë‹¤. RedArrowì˜ ì†ŒìŠ¤ ì½”ë“œë¥¼ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•˜ë©´ì„œ Python í”„ë¡œê·¸ë˜ë°ê³¼ ìë™ë§¤ë§¤ ì‹œìŠ¤í…œì˜ í•µì‹¬ ê°œë…ì„ ìµí ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## í•™ìŠµ ì „ ì¤€ë¹„ì‚¬í•­

### í•„ìˆ˜ ì‚¬ì „ ì§€ì‹
- í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ ê°œë… (ë³€ìˆ˜, ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸)
- ê¸°ë³¸ì ì¸ í„°ë¯¸ë„/ëª…ë ¹ì¤„ ì‚¬ìš©ë²•
- í…ìŠ¤íŠ¸ ì—ë””í„° ë˜ëŠ” IDE ì‚¬ìš©ë²•

### ê¶Œì¥ ì‚¬ì „ ì§€ì‹
- Python ê¸°ì´ˆ ë¬¸ë²•
- ì£¼ì‹ ê±°ë˜ì˜ ê¸°ë³¸ ê°œë… (ë§¤ìˆ˜, ë§¤ë„, í˜¸ê°€)
- REST API ê¸°ë³¸ ê°œë…

### ê°œë°œ í™˜ê²½ ì„¤ì •
```bash
# 1. Python 3.11+ ì„¤ì¹˜ í™•ì¸
python3 --version

# 2. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/jaengyi/RedArrow.git
cd RedArrow

# 3. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate

# 4. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

---

## í•™ìŠµ ê²½ë¡œ (Learning Path)

### ğŸŸ¢ ì´ˆê¸‰ ë‹¨ê³„ (1-2ì£¼)

**ëª©í‘œ**: Python ê¸°ë³¸ ë¬¸ë²•ê³¼ í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. settings.py (ì´ˆê¸‰)                                          â”‚
â”‚     â””â”€â”€ @property, os.getenv(), yaml.safe_load()               â”‚
â”‚                                                                 â”‚
â”‚  2. main.py - ê°œìš” (ì´ˆê¸‰)                                       â”‚
â”‚     â””â”€â”€ if __name__, logging, í”„ë¡œê·¸ë¨ êµ¬ì¡°                    â”‚
â”‚                                                                 â”‚
â”‚  3. technical_indicators.py - ê¸°ì´ˆ (ì¤‘ê¸‰)                       â”‚
â”‚     â””â”€â”€ pandas rolling(), ì´ë™í‰ê· ì„  ê°œë…                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1ë‹¨ê³„: `src/config/settings.py`
**ë‚œì´ë„**: â­ ì´ˆê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 2-3ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- `@property` ë°ì½”ë ˆì´í„° ì‚¬ìš©ë²•
- `os.getenv()`ë¡œ í™˜ê²½ ë³€ìˆ˜ ì½ê¸°
- `yaml.safe_load()`ë¡œ ì„¤ì • íŒŒì¼ íŒŒì‹±
- `pathlib.Path`ë¡œ íŒŒì¼ ê²½ë¡œ ë‹¤ë£¨ê¸°

**ì‹¤ìŠµ ê³¼ì œ**:
1. `.env.example`ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ ìƒì„±
2. `python -m src.config.settings` ì‹¤í–‰í•˜ì—¬ ì„¤ì • í™•ì¸
3. `config/config.yaml` íŒŒì¼ì˜ `stop_loss_percent` ê°’ì„ ë³€ê²½í•˜ê³  ê²°ê³¼ í™•ì¸

---

#### 2ë‹¨ê³„: `src/main.py` (ê°œìš”)
**ë‚œì´ë„**: â­ ì´ˆê¸‰ ~ â­â­ ì¤‘ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- `if __name__ == "__main__":` íŒ¨í„´
- `logging` ëª¨ë“ˆë¡œ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ê¸°ë¡
- í´ë˜ìŠ¤ ê¸°ë°˜ í”„ë¡œê·¸ë¨ ì„¤ê³„
- ëª¨ë“ˆ ì„í¬íŠ¸ êµ¬ì¡°

**ì‹¤ìŠµ ê³¼ì œ**:
1. `RedArrowSystem` í´ë˜ìŠ¤ì˜ `__init__` ë©”ì„œë“œ íë¦„ ë”°ë¼ê°€ê¸°
2. ë¡œê·¸ íŒŒì¼(`logs/redarrow_*.log`) ì—´ì–´ì„œ ë¡œê·¸ í˜•ì‹ í™•ì¸
3. `is_market_open()` ë©”ì„œë“œê°€ ì–´ë–»ê²Œ ì‹œì¥ ê°œì¥ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ëŠ”ì§€ ë¶„ì„

---

#### 3ë‹¨ê³„: `src/indicators/technical_indicators.py` (ê¸°ì´ˆ)
**ë‚œì´ë„**: â­â­ ì¤‘ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 4-5ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- pandas `rolling()`, `ewm()` ë©”ì„œë“œ
- ì´ë™í‰ê· ì„ (MA), ì§€ìˆ˜ì´ë™í‰ê· ì„ (EMA) ê°œë…
- ê¸°ìˆ ì  ì§€í‘œì˜ íˆ¬ì í™œìš©ë²•

**ì‹¤ìŠµ ê³¼ì œ**:
1. íŒŒì¼ í•˜ë‹¨ì˜ `if __name__ == "__main__":` ë¸”ë¡ ì‹¤í–‰
2. MA(20) ê°’ì´ ì–´ë–»ê²Œ ê³„ì‚°ë˜ëŠ”ì§€ ìˆ˜ë™ìœ¼ë¡œ ê²€ì¦
3. MACD ì§€í‘œì˜ ì˜ë¯¸ë¥¼ ì´í•´í•˜ê³  ì°¨íŠ¸ì—ì„œ í™•ì¸

---

### ğŸŸ¡ ì¤‘ê¸‰ ë‹¨ê³„ (2-3ì£¼)

**ëª©í‘œ**: í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì´í•´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. selector.py (ì¤‘ê¸‰)                                          â”‚
â”‚     â””â”€â”€ ì ìˆ˜ ê¸°ë°˜ ì„ ì • ì‹œìŠ¤í…œ, DataFrame í•„í„°ë§                 â”‚
â”‚                                                                 â”‚
â”‚  5. risk_control.py (ì¤‘ê¸‰)                                      â”‚
â”‚     â””â”€â”€ ì†ì ˆ/ìµì ˆ/íŠ¸ë ˆì¼ë§ ìŠ¤í†±, í¬ì§€ì…˜ ì‚¬ì´ì§•                  â”‚
â”‚                                                                 â”‚
â”‚  6. report_generator.py (ì¤‘ê¸‰)                                  â”‚
â”‚     â””â”€â”€ ì •ê·œí‘œí˜„ì‹, pathlib, ë§ˆí¬ë‹¤ìš´ ìƒì„±                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4ë‹¨ê³„: `src/stock_selector/selector.py`
**ë‚œì´ë„**: â­â­ ì¤‘ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 5-6ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- ì ìˆ˜ ê¸°ë°˜(Scoring) ì„ ì • ì‹œìŠ¤í…œ ì„¤ê³„
- pandas DataFrame í•„í„°ë§ê³¼ ì •ë ¬
- ì—¬ëŸ¬ ì¡°ê±´ì„ ì¡°í•©í•˜ëŠ” ë¡œì§

**í•µì‹¬ ë©”ì„œë“œ**:
- `select_stocks()`: ì¢…ëª© ì„ ì • ë©”ì¸ ë¡œì§
- `filter_by_volume_amount()`: ê±°ë˜ëŒ€ê¸ˆ í•„í„°ë§
- `check_golden_cross()`: ê³¨ë“ í¬ë¡œìŠ¤ í™•ì¸

**ì‹¤ìŠµ ê³¼ì œ**:
1. `select_stocks()` ë©”ì„œë“œì˜ ì ìˆ˜ ë°°ì  ë¶„ì„
2. ìƒˆë¡œìš´ ì„ ì • ì¡°ê±´ ì¶”ê°€í•´ë³´ê¸° (ì˜ˆ: RSI ê³¼ë§¤ë„ íƒˆì¶œ)
3. ìµœì†Œ ì„ ì • ì ìˆ˜ë¥¼ 3ì ìœ¼ë¡œ ë‚®ì¶°ì„œ ê²°ê³¼ ë¹„êµ

---

#### 5ë‹¨ê³„: `src/risk_manager/risk_control.py`
**ë‚œì´ë„**: â­â­ ì¤‘ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 5-6ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- ì†ì ˆ(Stop-Loss)ì˜ ì¤‘ìš”ì„±
- íŠ¸ë ˆì¼ë§ ìŠ¤í†±(Trailing Stop) ì›ë¦¬
- í¬ì§€ì…˜ ì‚¬ì´ì§•(Position Sizing) ê³„ì‚°

**í•µì‹¬ ë©”ì„œë“œ**:
- `check_stop_loss()`: ì†ì ˆ ì¡°ê±´ í™•ì¸
- `calculate_trailing_stop()`: íŠ¸ë ˆì¼ë§ ìŠ¤í†± ê³„ì‚°
- `calculate_position_size()`: ë§¤ìˆ˜ ìˆ˜ëŸ‰ ê²°ì •

**ì‹¤ìŠµ ê³¼ì œ**:
1. ì†ì ˆë¥  2.5%ì¼ ë•Œ ì†ì‹¤ 100ë§Œì›ì—ì„œ íšŒë³µí•˜ë ¤ë©´ ëª‡ % ìˆ˜ìµì´ í•„ìš”í•œì§€ ê³„ì‚°
2. íŠ¸ë ˆì¼ë§ ìŠ¤í†±ì´ ì–´ë–¤ ìƒí™©ì—ì„œ ë°œë™í•˜ëŠ”ì§€ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„
3. `calculate_position_size()` ë©”ì„œë“œì˜ ê³„ì‚° ë¡œì§ ìˆ˜ë™ ê²€ì¦

---

#### 6ë‹¨ê³„: `src/reporter/report_generator.py`
**ë‚œì´ë„**: â­â­ ì¤‘ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 3-4ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- ì •ê·œí‘œí˜„ì‹(Regex)ìœ¼ë¡œ ë¡œê·¸ íŒŒì‹±
- pathlibìœ¼ë¡œ íŒŒì¼ ê²½ë¡œ ë‹¤ë£¨ê¸°
- ë§ˆí¬ë‹¤ìš´ í…Œì´ë¸” ìƒì„±

**ì‹¤ìŠµ ê³¼ì œ**:
1. ì •ê·œí‘œí˜„ì‹ íŒ¨í„´(`BUY_PATTERN`)ì´ ì–´ë–¤ ë¬¸ìì—´ì„ ë§¤ì¹­í•˜ëŠ”ì§€ ë¶„ì„
2. `python -m src.reporter.report_generator` ì‹¤í–‰í•˜ì—¬ ë¦¬í¬íŠ¸ ìƒì„±
3. ìƒˆë¡œìš´ ì„¹ì…˜(ì˜ˆ: ë³´ìœ  ì¢…ëª© í˜„í™©) ì¶”ê°€í•´ë³´ê¸°

---

### ğŸ”´ ê³ ê¸‰ ë‹¨ê³„ (3-4ì£¼)

**ëª©í‘œ**: API ì—°ë™ê³¼ ì „ì²´ ì‹œìŠ¤í…œ ì´í•´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. broker_api.py (ê³ ê¸‰)                                        â”‚
â”‚     â””â”€â”€ ì¶”ìƒ í´ë˜ìŠ¤(ABC), requests, Rate Limiting, OAuth       â”‚
â”‚                                                                 â”‚
â”‚  8. main.py - ì „ì²´ (ê³ ê¸‰)                                       â”‚
â”‚     â””â”€â”€ ì „ì²´ ì‹œìŠ¤í…œ íë¦„, ìŠ¤ì¼€ì¤„ëŸ¬, ìƒíƒœ ê´€ë¦¬                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7ë‹¨ê³„: `src/data_collectors/broker_api.py`
**ë‚œì´ë„**: â­â­â­ ê³ ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 8-10ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- ì¶”ìƒ í´ë˜ìŠ¤(ABC)ì™€ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„
- requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ HTTP í†µì‹ 
- Rate Limiting(ì†ë„ ì œí•œ) êµ¬í˜„
- OAuth ì¸ì¦ íë¦„

**í•µì‹¬ í´ë˜ìŠ¤**:
- `BrokerAPI`: ì¶”ìƒ í´ë˜ìŠ¤ (ì¸í„°í˜ì´ìŠ¤ ì •ì˜)
- `KoreaInvestmentAPI`: ì‹¤ì œ êµ¬í˜„ í´ë˜ìŠ¤
- `RateLimiter`: ìš”ì²­ ì†ë„ ì œí•œ

**ì‹¤ìŠµ ê³¼ì œ**:
1. `connect()` ë©”ì„œë“œì˜ OAuth í† í° ë°œê¸‰ íë¦„ ë¶„ì„
2. `_call_api()` ë©”ì„œë“œì˜ ì¬ì‹œë„ ë¡œì§ ì´í•´
3. ìƒˆë¡œìš´ API ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ ë©”ì„œë“œ ì¶”ê°€í•´ë³´ê¸°

---

#### 8ë‹¨ê³„: `src/main.py` (ì „ì²´)
**ë‚œì´ë„**: â­â­â­ ê³ ê¸‰
**ì˜ˆìƒ í•™ìŠµ ì‹œê°„**: 6-8ì‹œê°„

**í•™ìŠµ ë‚´ìš©**:
- ì „ì²´ ì‹œìŠ¤í…œ íë¦„ ì´í•´
- APScheduler ìŠ¤ì¼€ì¤„ëŸ¬ í™œìš©
- ìƒíƒœ ê´€ë¦¬ì™€ ë™ê¸°í™”

**í•µì‹¬ íë¦„**:
```
í”„ë¡œê·¸ë¨ ì‹œì‘
    â†“
ì„¤ì • ë¡œë“œ & ëª¨ë“ˆ ì´ˆê¸°í™”
    â†“
API ì—°ê²° & ê³„ì¢Œ ë™ê¸°í™”
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  while True: (ë©”ì¸ ë£¨í”„)    â”‚
â”‚    â”œâ”€â”€ ì‹œì¥ ê°œì¥ í™•ì¸       â”‚
â”‚    â”œâ”€â”€ ë°ì´í„° ìˆ˜ì§‘          â”‚
â”‚    â”œâ”€â”€ ì¢…ëª© ì„ ì •            â”‚
â”‚    â”œâ”€â”€ ë§¤ë§¤ ì‹¤í–‰            â”‚
â”‚    â”œâ”€â”€ í¬ì§€ì…˜ ëª¨ë‹ˆí„°ë§      â”‚
â”‚    â””â”€â”€ ì¥ ë§ˆê° ì²˜ë¦¬         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‹¤ìŠµ ê³¼ì œ**:
1. `run()` ë©”ì„œë“œì˜ ì „ì²´ íë¦„ì„ ìˆœì„œë„ë¡œ ê·¸ë¦¬ê¸°
2. í¬ì§€ì…˜ ë™ê¸°í™”(`sync_positions_with_account`)ê°€ ì™œ í•„ìš”í•œì§€ ë¶„ì„
3. ì¥ ë§ˆê° ì²˜ë¦¬ ë¡œì§ì´ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ì¶”ì 

---

## í•™ìŠµ íŒ

### 1. ëŠ¥ë™ì  í•™ìŠµ
- ì½”ë“œë¥¼ ì½ê¸°ë§Œ í•˜ì§€ ë§ê³  ì§ì ‘ ìˆ˜ì •í•´ë³´ì„¸ìš”
- `print()` ë˜ëŠ” `logger.info()`ë¡œ ì¤‘ê°„ ê²°ê³¼ë¥¼ ì¶œë ¥í•´ë³´ì„¸ìš”
- ê¶ê¸ˆí•œ ì ì€ ì£¼ì„ìœ¼ë¡œ ë©”ëª¨í•´ë‘ì„¸ìš”

### 2. ë””ë²„ê¹… í™œìš©
```python
# ë³€ìˆ˜ ê°’ í™•ì¸
print(f"DEBUG: stock_data = {stock_data}")

# ì¡°ê±´ í™•ì¸
if score >= 5:
    print(f"DEBUG: {stock['name']} ì„ ì • (ì ìˆ˜: {score})")
```

### 3. ë¬¸ì„œ ë³‘í–‰ í•™ìŠµ
- pandas ê³µì‹ ë¬¸ì„œ: https://pandas.pydata.org/docs/
- requests ê³µì‹ ë¬¸ì„œ: https://requests.readthedocs.io/
- Python ê³µì‹ íŠœí† ë¦¬ì–¼: https://docs.python.org/3/tutorial/

### 4. ëª¨ì˜íˆ¬ìë¡œ ì‹¤ìŠµ
- í•­ìƒ `TRADING_MODE=simulation`ìœ¼ë¡œ í…ŒìŠ¤íŠ¸
- ì‹¤ì œ ëˆì„ ê±¸ê¸° ì „ì— ì¶©ë¶„íˆ ì´í•´í•  ê²ƒ

---

## ì¶”ê°€ í•™ìŠµ ìë£Œ

### ê´€ë ¨ ë¬¸ì„œ
- [ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê°€ì´ë“œ](./LibraryGuide.md)
- [Python ê¸°ì´ˆ](./PythonBasics_20251231.md)
- [ì‹œìŠ¤í…œ ì„¤ê³„ ë¬¸ì„œ](../03.Design/SystemDesign_20251231.md)

### ì™¸ë¶€ ìë£Œ
- [í•œêµ­íˆ¬ìì¦ê¶Œ API ë¬¸ì„œ](https://apiportal.koreainvestment.com/)
- [pandas 10ë¶„ ê°€ì´ë“œ](https://pandas.pydata.org/docs/user_guide/10min.html)
- [ì •ê·œí‘œí˜„ì‹ ì—°ìŠµ](https://regex101.com/)

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë²„ì „ | ë³€ê²½ ë‚´ìš© |
|------|------|-----------|
| 2026-02-20 | 1.0 | ìµœì´ˆ ì‘ì„± |
